<!DOCTYPE html>

<meta charset="utf-8" />

<title>Win32Forth</title>

<script language="javascript" type="text/javascript">
var lastlen=0;
function doit()
{
  var dsp=document.getElementById('dsp');
  var txt=dsp.value;
  var ntxt=txt.substring(lastlen-1);
  if( ntxt[ntxt.length-1] == '\n')
     ntxt=ntxt.slice(0,ntxt.length-1);
  fetch('',{method: 'post',body:ntxt,headers: {
    'Content-Type': 'text/plain'
     }
  })
  .then(response => response.text())
  .then(function(data) {
     var dtxt=dsp.value;
     if(dtxt[dtxt.length-1]=='\n')
        dtxt=dtxt.slice(0,dtxt.length-1);
     dtxt+='  ';
     dtxt+=data+'\n';
     lastlen=dtxt.length;
     dsp.value=dtxt;
     dsp.scrollTop=dsp.scrollHeight;
  })
  .catch(error => console.log('error is', error));

}
</script>
<body>
Web32Forth 4.03 by Robert Ackerman & John Peters 415-239-5393<br>
Join us at Win32Forth on facebbok/groups.<br> 
The source is on GitHub under JohnAlanPeters/CG<br>
<br>
The Contract Generator tm is a database of 'ELECTRIC WORDS' and it has all the parts electricians use.<br>
<br>
You can't executie 'FORTH WORDS' because it would take 90 seconds. Please help speed up the code.<br>
<br>
SEE  <word> decompiles the source code.<br>
SHOW <word> shows the 1-st line of the source code, the stack comments and the back-slash \documentation.<br>
VIEW <word> only works on the disk-based full system, not a browser. Try SHOW <br>
<br>
&#58 TEST 8 0 do &#46&#34 Hi World &#34 cr loop &#59<br>
You can copy and paste the above DO LOOP code if that is easier.<br>
<br>
You can enter any one of the CAPITALIZED words below or copy-paste them in to your browser<br>
PANEL LIST is a good one. You will see electrician stuff<br>
C-B LIST will give you a list of circuit breakers<br>
EMT LIST will list the sizes of Elctro Metalic Tubing i.e. EMT<br>
SS-CON LIST is for Set-Screw Connectors<br>
Any of the below words or "vocabularies" will give you a list of the words in the vocabulary<br>
LED-TUBE  PVC-PIPE  PVC-90  METER  METER-RT  HUB  COMMERCIAL-METER  PANEL-RT  PANEL<br>
-PLEASE enter ( Your Name ) so I can appreciate your visit. <br>
You can send us a message using to brooklineelectric@gmail.com<br>
<br>
<textarea id='dsp' rows=26 cols=205 autofocus style="font-family:courier;font-size:18px;font-weight: bold;"></textarea>
</body>
</html>
<script>
const node = document.getElementById('dsp');
node.addEventListener("keyup", function(event) {
    if (event.key === "Enter") {
        doit();
    }
});
</script>

